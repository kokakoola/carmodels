<h1>request-progress <a href="http://travis-ci.org/IndigoUnited/node-request-progress.png"><img src="https://secure.travis-ci.org/IndigoUnited/node-request-progress.png" alt="Build Status" /></a></h1>

<p>Tracks the download progress of a request made with <a href="https://github.com/mikeal/request">request</a>.</p>

<h2>Installation</h2>

<p><code>$ npm install request-progress</code></p>

<h2>Usage</h2>

<p>```js
var fs = require(‘fs’);
var request = require(‘request’);
var progress = require(‘request-progress’);</p>

<p>// Note that the options argument is optional
progress(request(‘http://google.com/doodle.png’), {
    throttle: 2000,  // Throttle the progress event to 2000ms, defaults to 1000ms
    delay: 1000      // Only start to emit after 1000ms delay, defaults to 0ms
})
.on(‘progress’, function (state) {
    console.log(‘received size in bytes’, state.received);
    // The properties bellow can be null if response does not contain
    // the content-length header
    console.log(‘total size in bytes’, state.total);
    console.log(‘percent’, state.percent);
})
.on(‘error’, function (err) {
    // Do something with err
})
.pipe(fs.createWriteStream(‘doodle.png’))
.on(‘error’, function (err) {
    // Do something with err
})
.on(‘close’, function (err) {
    // Saved to doogle.png!
})
```</p>

<p>Note that the <code>state</code> object emitted in the <code>progress</code> event is reused to avoid creating a new object for each event.</p>

<h2>License</h2>

<p>Released under the <a href="http://www.opensource.org/licenses/mit-license.php">MIT License</a>.</p>
